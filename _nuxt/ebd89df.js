(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{333:function(t,e,n){var content=n(335);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(69).default)("87edde0a",content,!0,{sourceMap:!1})},334:function(t,e,n){"use strict";n(333)},335:function(t,e,n){var c=n(68)(!1);c.push([t.i,".nuxt-link-exact-active{background:#1f8dd6}",""]),t.exports=c},336:function(t,e,n){"use strict";n(334);var c=n(90),component=Object(c.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"menu"}},[n("div",{staticClass:"pure-menu"},[n("nuxt-link",{staticClass:"pure-menu-heading",attrs:{to:"/"}},[t._v("Discipline")]),t._v(" "),n("ul",{staticClass:"pure-menu-list"},[n("li",{staticClass:"pure-menu-item menu-item-divided"},[n("nuxt-link",{staticClass:"pure-menu-link",attrs:{to:"/pages_EditProject"}},[t._v("專案基本設定")])],1),t._v(" "),n("li",{staticClass:"pure-menu-item menu-item-divided"},[n("nuxt-link",{staticClass:"pure-menu-link",attrs:{to:"/pages_EditPictures"}},[t._v("上傳教材圖片")])],1),t._v(" "),n("li",{staticClass:"pure-menu-item menu-item-divided"},[n("nuxt-link",{staticClass:"pure-menu-link",attrs:{to:"/pages_EditMaterials"}},[t._v("編輯補充教材")])],1),t._v(" "),n("li",{staticClass:"pure-menu-item menu-item-divided"},[n("nuxt-link",{staticClass:"pure-menu-link",attrs:{to:"/pages_EditTest"}},[t._v("編輯隨堂測驗")])],1),t._v(" "),n("li",{staticClass:"pure-menu-item menu-item-divided"},[n("nuxt-link",{staticClass:"pure-menu-link",attrs:{to:"/pages_EditCmapObject"}},[t._v("概念構圖設定")])],1),t._v(" "),n("li",{staticClass:"pure-menu-item menu-item-divided"},[n("nuxt-link",{staticClass:"pure-menu-link",attrs:{to:"/pages_EditExpertMap"}},[t._v("專家概念構圖")])],1),t._v(" "),n("li",{staticClass:"pure-menu-item menu-item-divided"},[n("nuxt-link",{staticClass:"pure-menu-link",attrs:{to:"/pages_PackageData"}},[t._v("發佈學習專案")])],1),t._v(" "),n("li",{staticClass:"pure-menu-item menu-item-divided"},[n("nuxt-link",{staticClass:"pure-menu-link",attrs:{to:"/pages_DataViewer"}},[t._v("學習歷程檢示")])],1),t._v(" "),n("li",{staticClass:"pure-menu-item menu-item-divided"},[n("nuxt-link",{staticClass:"pure-menu-link",attrs:{to:"/"}},[t._v("登出系統")])],1)])],1)])}),[],!1,null,null,null);e.a=component.exports},337:function(t,e,n){"use strict";var c=n(24),r=n(100).findIndex,o=n(101),l="findIndex",d=!0;l in[]&&Array(1).findIndex((function(){d=!1})),c({target:"Array",proto:!0,forced:d},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(l)},342:function(t,e,n){var content=n(351);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(69).default)("2ff0f827",content,!0,{sourceMap:!1})},347:function(t){t.exports=JSON.parse('[{"ctid":"1","type":"莖的特徵"},{"ctid":"2","type":"葉的特徵"},{"ctid":"3","type":"部位"},{"ctid":"4","type":"花的特徵"},{"ctid":"5","type":"果實的特徵"},{"ctid":"6","type":"籜的特徵"},{"ctid":"7","type":"顏色"}]')},348:function(t){t.exports=JSON.parse('{"1":[{"item":"灌木","subtype":"木質化程度"},{"item":"喬木","subtype":"木質化程度"},{"item":"竹類","subtype":"木質化程度"},{"item":"環紋","subtype":"生長特徵"},{"item":"直立無分枝","subtype":"生長特徵"},{"item":"少許分枝","subtype":"生長特徵"},{"item":"條紋","subtype":"生長特徵"},{"item":"叢生","subtype":"生長特徵"},{"item":"散生","subtype":"生長特徵"},{"item":"麟片狀","subtype":"生長特徵"},{"item":"球莖","subtype":"生長特徵"},{"item":"塊莖","subtype":"生長特徵"}],"2":[],"3":[{"item":"莖","subtype":null},{"item":"葉","subtype":null},{"item":"花","subtype":null},{"item":"果實","subtype":null},{"item":"籜","subtype":null}],"4":[],"5":[],"6":[],"7":[]}')},349:function(t){t.exports=JSON.parse('[{"link":"是"},{"link":"的"}]')},350:function(t,e,n){"use strict";n(342)},351:function(t,e,n){var c=n(68)(!1);c.push([t.i,"select[data-v-27a6faef]{width:250px;min-height:200px}option[data-v-27a6faef]{font-weight:400;display:block;white-space:nowrap;min-height:1.5em;padding:4px}.pure-button[data-v-27a6faef]{padding:.5em 1.5em}.pure-g[data-v-27a6faef]{margin-top:20px;margin-bottom:20px}.pure-u-1-2[data-v-27a6faef]{display:flex;position:relative}.addButton[data-v-27a6faef]{margin-left:25px}.upButton[data-v-27a6faef]{top:30px}.downButton[data-v-27a6faef],.upButton[data-v-27a6faef]{position:absolute;left:260px}.downButton[data-v-27a6faef]{top:80px}.dividerButton[data-v-27a6faef]{position:absolute;top:130px;left:260px}",""]),t.exports=c},367:function(t,e,n){"use strict";n.r(e);n(14),n(13),n(15),n(16);var c=n(3),r=n(44),o=(n(25),n(28),n(36),n(52),n(145),n(10),n(337),n(11),n(180),n(181),n(336)),l=n(347),d=n(348),m=n(349);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={name:"pages_EditCmapObject",components:{PagePuremenu:o.a},data:function(){return{isReady:!1,currentConceptType:[],currentConceptItem:[],currentConceptLink:[],selectedTypeId:null,selectedItem:null,selectedLink:null}},mounted:function(){this.setDefaultConcept()},methods:{setDefaultConcept:function(){var t=this.fetchConceptType(),e=t[0],n=this.fetchConceptItemByTypeId(e.ctid),c=this.formatConceptItem(n),r=this.fetchConceptLink();this.currentConceptType=t,this.currentConceptItem=c,this.currentConceptLink=r,this.isReady=!0},fetchConceptType:function(){return l},fetchConceptItemByTypeId:function(t){return null==d[t]?[]:d[t]},fetchConceptLink:function(){return m},formatConceptItem:function(t){var e=t.reduce((function(t,e){var n=e.subtype;return null==n?(null==t["no-subtype"]&&(t["no-subtype"]=[]),t["no-subtype"].push(e),t):(null==t[n]&&(t[n]=[]),t[n].push(e),t)}),{}),n=[];for(var c in e)"no-subtype"===c?n=Object(r.a)(e[c]):(n.push({item:"----------[".concat(c,"]----------"),subtype:c}),n=[].concat(Object(r.a)(n),Object(r.a)(e[c])));return n},onConceptTypeClick:function(t){var e=this.fetchConceptItemByTypeId(t),n=this.formatConceptItem(e);this.currentConceptItem=n,this.selectedItem=null},onConceptTypeDBClick:function(t,e){var n=prompt("你想將 [".concat(e,"] 修改為"),e);if(null!=n){var c=[];this.currentConceptType.map((function(e){e.ctid!==t?c.push(e):c.push(v(v({},e),{},{type:n}))})),this.currentConceptType=c}else alert("輸入不能為空")},onConceptTypeAdd:function(){var t=prompt("請輸入新增的類別：");if(null!=t){var e=(this.currentConceptType.length+1).toString(),n=[].concat(Object(r.a)(this.currentConceptType),[{type:t,ctid:e}]);this.currentConceptType=n}else alert("輸入不能為空")},onConceptTypeDelete:function(){var t=this;if(console.log(this.selectedTypeId),null!=this.selectedTypeId){var e=this.currentConceptType.find((function(e){return e.ctid===t.selectedTypeId}));if(confirm("您確定要刪除 [".concat(e.type,"] 類別？\n※注意：類別刪除後，此類別下的概念項目都將刪除！"))){var n=this.currentConceptType.filter((function(e){return e.ctid!==t.selectedTypeId}));this.currentConceptType=n,this.selectedTypeId=null}}else alert("請選取類別後刪除。")},onSelectTypeChange:function(t){this.selectedTypeId=t.target.value},onConceptTypeSwapUp:function(){var t=this;if(null!=this.selectedTypeId){var e=JSON.parse(JSON.stringify(this.currentConceptType)),n=e.findIndex((function(e){return e.ctid===t.selectedTypeId}));if(0!=n){var c=[e[n],e[n-1]];e[n-1]=c[0],e[n]=c[1],this.currentConceptType=e}else alert("已在最上層")}else alert("請選取類別。")},onConceptTypeSwapDown:function(){var t=this;if(null!=this.selectedTypeId){var e=JSON.parse(JSON.stringify(this.currentConceptType)),n=e.findIndex((function(e){return e.ctid===t.selectedTypeId}));if(n!=e.length-1){var c=[e[n],e[n+1]];e[n+1]=c[0],e[n]=c[1],this.currentConceptType=e}else alert("已在最下層")}else alert("請選取類別。")},onConceptItemDBClick:function(t){var e=this.currentConceptItem.find((function(e){return e.item==t}));if(console.log(e),e.item==="----------[".concat(e.subtype,"]----------")){var n=prompt("您想將分隔線 [".concat(e.subtype,"] 修改為："),e.subtype);if(null==n)return void alert("輸入不能為空");var c=[];return this.currentConceptItem.map((function(t){t.item!=="----------[".concat(e.subtype,"]----------")?t.subtype!==e.subtype?c.push(t):c.push(v(v({},t),{},{subtype:n})):c.push({item:"----------[".concat(n,"]----------"),subtype:n})})),void(this.currentConceptItem=c)}var r=prompt("您想將 [".concat(e.item,"] 修改為："),e.item);if(null!=r){var o=[];this.currentConceptItem.map((function(t){t.item!==e.item?o.push(t):o.push(v(v({},t),{},{item:r}))})),this.currentConceptItem=o}else alert("輸入不能為空")},onConceptItemAdd:function(){var t=this,e=!1;if(this.currentConceptItem.forEach((function(t){null!=(null==t?void 0:t.subtype)&&(e=!0)})),e&&null==this.selectedItem)alert("請選擇子類別新增。");else{var n=prompt("請輸入新增的項目：");if(null!=n){if(e){var c=this.currentConceptItem.find((function(e){return e.item==t.selectedItem})).subtype,o=[];return this.currentConceptItem.map((function(t){if(t.item==="----------[".concat(c,"]----------"))return o.push(t),void o.push({item:n,subtype:c});o.push(t)})),void(this.currentConceptItem=o)}this.currentConceptItem=[{item:n,subtype:null}].concat(Object(r.a)(this.currentConceptItem))}else alert("輸入不能為空")}},onConceptItemDelete:function(){var t=this;if(null!=this.selectedItem){var e=this.currentConceptItem.find((function(e){return e.item==t.selectedItem}));if(e.item!=="----------[".concat(e.subtype,"]----------")){if(confirm("您確定要刪除 [".concat(e.item,"] 項目？"))){var n=this.currentConceptItem.filter((function(e){return e.item!==t.selectedItem}));this.currentConceptItem=n,this.selectedItem=null}}else alert("分隔線不可刪除。")}else alert("請選取項目後刪除。")},onSelectItemChange:function(t){this.selectedItem=t.target.value},onConceptItemSwapUp:function(){var t=this;if(null!=this.selectedItem)if(this.selectedItem.startsWith("-"))alert("分隔符號不可交換");else{var e=JSON.parse(JSON.stringify(this.currentConceptItem)),n=e.findIndex((function(e){return e.item===t.selectedItem}));if(0!=n)if(e[n-1].item.startsWith("-"))alert("不可與分隔符號交換");else{var c=[e[n],e[n-1]];e[n-1]=c[0],e[n]=c[1],this.currentConceptItem=e}else alert("已在最上層")}else alert("請選取項目。")},onConceptItemSwapDown:function(){var t=this;if(null!=this.selectedItem)if(this.selectedItem.startsWith("-"))alert("分隔符號不可交換");else{var e=JSON.parse(JSON.stringify(this.currentConceptItem)),n=e.findIndex((function(e){return e.item===t.selectedItem}));if(n!=e.length-1)if(e[n+1].item.startsWith("-"))alert("不可與分隔符號交換");else{var c=[e[n],e[n+1]];e[n+1]=c[0],e[n]=c[1],this.currentConceptItem=e}else alert("已在最下層")}else alert("請選取項目。")},createConceptItemDivider:function(){var t=prompt("請輸入分隔線標題：");null!=t?this.currentConceptItem=[].concat(Object(r.a)(this.currentConceptItem),[{item:"----------[".concat(t,"]----------"),subtype:t}]):alert("輸入不能為空")},onConceptLinkDBClick:function(t){var e=prompt("您想將 [".concat(t,"] 修改為："),t);if(null!=e){var n=[];this.currentConceptLink.map((function(c){c.link!==t?n.push(c):n.push({link:e})})),this.currentConceptLink=n}else alert("輸入不能為空")},onConceptLinkAdd:function(){var t=prompt("請輸要新增的連接詞：");null!=t?this.currentConceptLink=[].concat(Object(r.a)(this.currentConceptLink),[{link:t}]):alert("輸入不能為空")},onConceptLinkDelete:function(){var t=this;if(null!=this.selectedLink){if(confirm("您確定要刪除 [".concat(this.selectedLink,"] 這個連接詞？"))){var e=this.currentConceptLink.filter((function(e){return e.link!==t.selectedLink}));this.currentConceptLink=e,this.selectedLink=null}}else alert("請選取連接詞後刪除。")},onSelectLinkChange:function(t){this.selectedLink=t.target.value},onConceptLinkSwapUp:function(){var t=this;if(null!=this.selectedLink){var e=JSON.parse(JSON.stringify(this.currentConceptLink)),n=e.findIndex((function(e){return e.link===t.selectedLink}));if(0!=n){var c=[e[n],e[n-1]];e[n-1]=c[0],e[n]=c[1],this.currentConceptLink=e}else alert("已在最上層")}else alert("請選取關聯詞。")},onConceptLinkSwapDown:function(){var t=this;if(null!=this.selectedLink){var e=JSON.parse(JSON.stringify(this.currentConceptLink)),n=e.findIndex((function(e){return e.link===t.selectedLink}));if(n!=e.length-1){var c=[e[n],e[n+1]];e[n+1]=c[0],e[n]=c[1],this.currentConceptLink=e}else alert("已在最下層")}else alert("請選取關聯詞。")}},computed:{canCreateDivider:function(){var t,e=!1;return 0==this.currentConceptItem.length&&(e=!0),null!=(null===(t=this.currentConceptItem[0])||void 0===t?void 0:t.subtype)&&(e=!0),e}}},h=(n(350),n(90)),component=Object(h.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"layout"}},[n("PagePuremenu"),t._v(" "),n("div",{attrs:{id:"main"}},[t._m(0),t._v(" "),n("div",{staticClass:"content"},[n("h2",{staticClass:"content-subhead"},[t._v("概念設定")]),t._v(" "),n("div",{staticClass:"pure-g"},[n("div",{staticClass:"pure-u-1-2"},[n("h3",[t._v("概念類別")]),t._v(" "),n("button",{staticClass:"pure-button addButton",on:{click:t.onConceptTypeAdd}},[t._v("\n            新增\n          ")]),t._v(" "),n("button",{staticClass:"pure-button delButton",on:{click:t.onConceptTypeDelete}},[t._v("\n            刪除\n          ")])]),t._v(" "),n("div",{staticClass:"pure-u-1-2"},[n("h3",[t._v("概念項目")]),t._v(" "),n("button",{staticClass:"pure-button addButton",on:{click:t.onConceptItemAdd}},[t._v("\n            新增\n          ")]),t._v(" "),n("button",{staticClass:"pure-button delButton",on:{click:t.onConceptItemDelete}},[t._v("\n            刪除\n          ")])])]),t._v(" "),n("div",{staticClass:"pure-g"},[n("div",{staticClass:"pure-u-1-2"},[n("select",{attrs:{multiple:"yes"},on:{change:t.onSelectTypeChange}},t._l(t.currentConceptType,(function(e){return n("option",{key:e.ctid,domProps:{value:e.ctid},on:{click:function(n){return t.onConceptTypeClick(e.ctid)},dblclick:function(n){return t.onConceptTypeDBClick(e.ctid,e.type)}}},[t._v("\n              "+t._s(e.type)+"\n            ")])})),0),t._v(" "),n("button",{staticClass:"pure-button upButton",on:{click:t.onConceptTypeSwapUp}},[t._v("\n            ↑\n          ")]),t._v(" "),n("button",{staticClass:"pure-button downButton",on:{click:t.onConceptTypeSwapDown}},[t._v("\n            ↓\n          ")])]),t._v(" "),n("div",{staticClass:"pure-u-1-2"},[n("select",{attrs:{multiple:"yes"},on:{change:t.onSelectItemChange}},t._l(t.currentConceptItem,(function(e){return n("option",{key:e.item,domProps:{value:e.item},on:{dblclick:function(n){return t.onConceptItemDBClick(e.item)}}},[t._v("\n              "+t._s(e.item)+"\n            ")])})),0),t._v(" "),n("button",{staticClass:"pure-button upButton",on:{click:t.onConceptItemSwapUp}},[t._v("\n            ↑\n          ")]),t._v(" "),n("button",{staticClass:"pure-button downButton",on:{click:t.onConceptItemSwapDown}},[t._v("\n            ↓\n          ")]),t._v(" "),n("button",{staticClass:"pure-button dividerButton",attrs:{disabled:!t.canCreateDivider},on:{click:t.createConceptItemDivider}},[t._v("\n            --\n          ")])])]),t._v(" "),n("h2",{staticClass:"content-subhead"},[t._v("關聯詞設定")]),t._v(" "),n("div",{staticClass:"pure-g"},[n("div",{staticClass:"pure-u-1-2"},[n("button",{staticClass:"pure-button",on:{click:t.onConceptLinkAdd}},[t._v("新增")]),t._v(" "),n("button",{staticClass:"pure-button",on:{click:t.onConceptLinkDelete}},[t._v("\n            刪除\n          ")])])]),t._v(" "),n("div",{staticClass:"pure-g"},[n("div",{staticClass:"pure-u-1-2"},[n("select",{attrs:{multiple:"yes"},on:{change:t.onSelectLinkChange}},t._l(t.currentConceptLink,(function(e){return n("option",{key:e.link,domProps:{value:e.link},on:{dblclick:function(n){return t.onConceptLinkDBClick(e.link)}}},[t._v("\n              "+t._s(e.link)+"\n            ")])})),0),t._v(" "),n("button",{staticClass:"pure-button upButton",on:{click:t.onConceptLinkSwapUp}},[t._v("\n            ↑\n          ")]),t._v(" "),n("button",{staticClass:"pure-button downButton",on:{click:t.onConceptLinkSwapDown}},[t._v("\n            ↓\n          ")])])])])])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("h1",[t._v("概念構圖設定")]),t._v(" "),n("h2",[t._v("你可以在此設定學習目標所需要的概念物件")])])}],!1,null,"27a6faef",null);e.default=component.exports}}]);